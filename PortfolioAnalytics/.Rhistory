require(milk)
require(PortfolioAnalytics)
data(indexes)
clear()
head(indexes)
tail(indexes)
clear()
ls()
dates = c(as.Date('1999-12-31'), time(indexes[endpoints(indexes, on ='quarters')])
)
dates
rep(1,5)
weights = xts(matrix(rep(1/4, 39*4), ncol=4), order.by=dates)
weights = xts(matrix(rep(1/4, 39*4), ncol=4), order.by=dates))
rep(1/4,39*4)
weights = xts(matrix(rep(1/4, 39*4), ncol=4), order.by=dates)
length(dates)
dates
dates = c(as.Date("1999-12-31"), time(indexes[endpoints(indexes, on"quarters")])
dates = c(as.Date("1999-12-31"), time(indexes[endpoints(indexes, on="quarters")])
)
length(dates)
class(dates)
weights <-  xts(matrix(rep(1/4, 39*4), ncol=4), order.by=dates)
dates <- c(as.Date("1999-12-31"), time(indexes[endpoints(indexes, on="quarters")])
)
weights <-  xts(matrix(rep(1/4, 39*4), ncol=4), order.by=dates)
weights <-  xts(matrix(rep(1/4, 39*4), ncol=4), order.by=dates)
dates
dates <- as.Date("1999-12-31"), time(indexes[endpoints(indexes, on="quarters")])
dates <- as.Date("1999-12-31", time(indexes[endpoints(indexes, on="quarters")])
)
?as.Date
clear()
?zoo:as.Date
dates <- c(base::as.Date("1999-12-31"), time(indexes[endpoints(indexes, on="quarters")])
)
dates
require(milk)
require(zoo)
dates <- c(zoo::as.Date("1999-12-31"), time(indexes[endpoints(indexes, on="quarters")])
)]
dates <- c(zoo::as.Date("1999-12-31"), time(indexes[endpoints(indexes, on="quarters")]))
dates
?endpoints
index[endpoints(indexes, on='quarters')]
endpoints(indexes, on='quarters')
time(index[endpoints(indexes, on='quarters')])
time(index[endpoints(indexes, on='quarters')])cle
clear()
time(index[endpoints(indexes, on='quarters')])
dates <- c(zoo::as.Date("1999-12-31"), time(indexes[endpoints(indexes, on="quarters")]))
as.Date(
'1999-12-31')
clear()
weights
wates <-  xts(matrix(rep(1/4, 39*4), ncol=4), order.by=dates)
wates <-  matrix(rep(1/4, 39*4), ncol=4)
wates
clear()
wates <-  xts(matrix(rep(1/4, 39*4), ncol=4), order.by=dates)
foo = rep(.24, 39*4)
length(foo)
dates
head(dates)
?Return.balancing
require(PortfolioAnalytics)
?Return.balancing
?Return.rebalancing
clear
clear()
nrow(indexes)
tail(indexes)
clear()
dates = c(as.Date('1999-12-31'), time(  indexes[ endpoints(  indexes, on='quarters'      )       ]            )          )
dates
nrow(indexes)
nrow(dates)
class(dates)
length(dates)
head(indexes)
dates = c(as.Date('1979-12-31'), time(  indexes[ endpoints(  indexes, on='quarters'      )       ]            )          )
length(dates)
dates
dates = c(as.Date('1999-12-31'), time(  indexes[ endpoints(  indexes, on='quarters'      )       ]            )          )
index(indexes)
index(first(indexes)
head(indexes)
head(indexes)
nrow(indexes)
clear()
foo = matrix(rep(.25, 39*4)      ,ncol=4)
foo
foo = matrix(rep(.25, 121*4)      ,ncol=4)
wates <-  xts(matrix(rep(1/4, 39*4), ncol=4), order.by=dates)
wates <-  xts(foo, order.by=dates)
wates
head(wates)
names(wates) = names(indexes[,1:4])
wates
head(wates)
clear()
bar = Return.balancing(indexes[,1:4], wates)
bar = Return.rebalancing(indexes[,1:4], wates)
head(bar)
Return.cumulative(bar)
PEQ_chart_Series(bar)
PEQ_chart_Series
bar['2000']
clear()
bar['2000']
bar['2008']
Return.cumulative(bar['2008'])
wates
head(wates)
foo = matrix(rep(.25, 121*4)      ,ncol=4)
foo
head(foo)
foo[1 ] <- .75
head(foo)
for(in in 1: nrow(foo))
for(i in 1: nrow(foo))
foo[i,1] = .75
foo
for(i in 1: nrow(foo)) {
foo[i,1] = .75
foo[i,2] = .10
foo[i,3] = .10
foo[i,4] = .05
}
wates <-  xts(foo, order.by=dates)
bar = Return.rebalancing(indexes[,1:4], wates)
PEQ_chart_Series(bar)
Return.cumulative(bar['2008'])
Return.annualized(indexes[,1])
Return.annualized(bar)
Return.annualized(indexes[,2])
Return.annualized(indexes[,3])
Return.annualized(indexes[,4])
baz = rollapply(bar, 3, Return.cumulative)
Return.cumulative(bar[1:3,])
