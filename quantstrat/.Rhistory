source('bee.r')
test = PortfReturns(acct)
test
test$curve = test+1
head(test)
tail(test)
source('~/clones/blog/plotEquityCurve.r')
args(plotEquityCurve)
plotEquityCurve
test = PortfReturns(acct)
plotEquityCurve(test)
require(PerformanceAnalytics)
plotEquityCurve(test)
?PortfReturns
test
head(test)
foo = test[-c(1:34),]
head(foo)
foo = test[-c(1:55),]
head(foo)
plotEquityCurve(foo)
plotEquityCurve
foo$eq = NA
for( i in 1:nrow(foo)){
 foo$eq[i,] =  apply(foo[,1][1:i], 2, Return.cumulative)}
}
foo
head(foo)
foo$eq = NA
head(foo)
plotEquityCurve
for (i in 1:nrow(foo))
foo$eq[i,] = apply(foo[,1][1:i], 2, Return.cumulative)
tail(foo)
foo$stock = foo$eq + 1
foo$bull = ifelse(SMA(foo$stock, n=10) > SMA(foo$stock, n=30), 1, 0)
tail(foo)
nrow(foo)
sum(foo$bull)
sum(na.omit(foo$bull))
nrow(na.omit(foo))
sum(na.omit(foo$bull))/nrow(na.omit(foo))
tail(foo$bull)
q()
